<o-column
	title="CONTACT_DATA"
	icon="info"
	class="vertical-margin-10"
	layout-gap="12px"
	multiline="yes"
	tooltip="yes"
	class="detailCard">
	<div>
		<div class="contactAndMessageDiv">
			<div class="contactInfo">
				<span>
					<strong>{{ "FULL_NAME" | oTranslate }}</strong>
					: {{ data.NAME }} {{ data.SURNAME }}
				</span>
				<span *ngIf="data.EMAIL">
					<strong>{{ "EMAIL" | oTranslate }}</strong>
					: {{ data.EMAIL }}
				</span>
			</div>
			<div fxLayout="row wrap" fxLayoutGap="14px"></div>
			<ng-container *ngIf="user !== data.USER_; else announceDetail">
				<div class="cardButtonDiv">
					<ng-container *ngIf="!conversationExists; else conversationButton">
						<o-form
							editable-detail="no"
							show-header="no"
							layout-direction="column"
							service="messages"
							entity="message"
							columns="M_MESSAGE"
							#form>
							<o-text-input attr="A_ID" [data]="data.A_ID" hidden></o-text-input>
							<div class="sendMessage">
								<o-textarea-input
									attr="M_MESSAGE"
									label="M_MESSAGE"
									read-only="no"
									rows="1"
									class="textArea"
									rows="3"></o-textarea-input>

								<button
									class="o-form-toolbar-button o-form-toolbar-button-insert mat-stroked-button mat-button-base mat-primary ng-star-inserted sendBtn"
									color="primary"
									mat-stroked-button=""
									type="button"
									ng-reflect-color="primary"
									(click)="conversationInit()">
									<span class="mat-button-wrapper">
										<span class="ng-star-inserted" id="spanSend">{{ "SEND" | oTranslate }}</span>
									</span>
								</button>
							</div>
						</o-form>
					</ng-container>
				</div>
			</ng-container>

			<div class="cardButtonDiv">
				<ng-template #conversationButton>
					<button
						class="mat-stroked-button mat-button-base mat-primary ng-star-inserted sendBtn"
						id="buttonGoChat"
						color="primary"
						type="button"
						(click)="goToChat()">
						<span class="mat-button-wrapper">{{ "GO_CHAT" | oTranslate }}</span>
					</button>
				</ng-template>
				<ng-template #announceDetail>
					<button
						class="mat-stroked-button mat-button-base mat-primary ng-star-inserted sendBtn"
						id="buttonGoAnnounce"
						color="primary"
						type="button"
						(click)="goToAnnounceDetail()">
						<span class="mat-button-wrapper">{{ "GO_ANNOUNCE" | oTranslate }}</span>
					</button>
				</ng-template>
			</div>
		</div>
		<div fxFlex="50" fxFlex.md="100" *ngIf="hasGPSPosition()">
			<o-map
				#oMapMarker
				fxflex
				[center]="getPositionGPS()"
				class="mapDetailService"
				zoom="10"
				min-zoom="3"
				max-zoom="20"
				zoom-control="no"
				search-control="false"
				search-control-button-visible="false"
				layer-panel-visible="no">
				<o-map-layer
					class="marker"
					layer-type="marker"
					layer-id="location_marker"
					[layer-center]="getPositionGPS()"></o-map-layer>
			</o-map>
		</div>
	</div>
</o-column>
