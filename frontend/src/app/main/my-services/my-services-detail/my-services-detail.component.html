<div class="serviceDetailContainer">
	<o-form
		#formServiceDetail
		service="announces"
		entity="announce"
		keys="A_ID"
		header-actions="D;U"
		undo-button="no"
		(onDataLoaded)="formInit($event)"
		message-service-type="myServicesDetailMessageService"
		label-header="SERVICE_DETAIL"
		label-header-align="start"
		keys-sql-types="INTEGER">
		<o-integer-input attr="A_ID" hidden></o-integer-input>
		<o-combo
			#ocombo
			attr="S_ID"
			label="S_NAME"
			service="services"
			entity="service"
			columns="S_ID;S_NAME"
			filter="no"
			value-column="S_ID"
			visible-columns="S_NAME"
			required="true"
			read-only="false"></o-combo>
		<o-text-input attr="A_TITLE"></o-text-input>
		<o-textarea-input attr="A_DESCRIPTION" rows="3"></o-textarea-input>
		<o-checkbox attr="A_ACTIVE"></o-checkbox>
		<div>
			<span>{{ "LOCATION" | oTranslate }}</span>
			<o-row>
				<o-real-input attr="A_LATITUDE" max-decimal-digits="10" hidden></o-real-input>
				<o-real-input attr="A_LONGITUDE" max-decimal-digits="10" hidden></o-real-input>
			</o-row>
		</div>
		<div fxFlex="100" fxFlex.md="100" *ngIf="hasGPSPosition()">
			<o-map
				#oMapMarker
				fxflex
				[center]="getPositionGPS()"
				class="mapDetailService"
				zoom="12"
				min-zoom="3"
				max-zoom="20"
				zoom-control="no"
				search-control="false"
				(onClick)="onMapClick($event)"
				search-control-button-visible="false"
				layer-panel-visible="no">
				<o-map-layer
					#oMarker
					class="marker"
					draggable="true"
					layer-type="marker"
					layer-id="location_marker"
					[layer-center]="getPositionGPS()"></o-map-layer>
			</o-map>
		</div>
		<div class="agreementsHistoryContainer">
			<o-table
				show-title="yes"
				title="FINISHEDWORKS"
				detail-mode="none"
				attr="servicesDetailStats"
				columns="U_CLIENT;AG_PRICE;C_END_DATETIME;A_ID"
				visible-columns="U_CLIENT;AG_PRICE;C_END_DATETIME"
				service="announces"
				entity="agreementsConversationsUserAnnounces"
				keys="A_ID"
				parent-keys="A_ID"
				delete-button="no"
				pagination-controls="no"
				refresh-button="no"
				insert-button="no">
				<o-table-column attr="C_END_DATETIME" type="date"></o-table-column>
			</o-table>
		</div>
	</o-form>
</div>
